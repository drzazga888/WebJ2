{
	"variables": [],
	"info": {
		"name": "webj2",
		"_postman_id": "c95ac7f3-10ac-22ca-6553-42f2bce83f74",
		"description": "",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "audio",
			"description": "",
			"item": [
				{
					"name": "create user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "create audio resource",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Id is provided\"] = jsonData.id;",
									"",
									"postman.setGlobalVariable(\"audio_resource_id\", jsonData.id);"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/audios",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							},
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Audio name 1\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "put audio",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/audios/{{audio_resource_id}}",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "multipart/form-data",
								"description": ""
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "audio",
									"description": "",
									"type": "file",
									"src": "111127__stephensaldanha__scifi-transforming-sound-01.wav"
								}
							]
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "put audio copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/audios",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "audio",
									"description": "",
									"type": "file",
									"src": "111127__stephensaldanha__scifi-transforming-sound-01.wav"
								}
							]
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "user",
			"description": "",
			"item": [
				{
					"name": "no credentials",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 401\"] = responseCode.code === 401;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Error message is bad login or password\"] = jsonData.error = \"Bad login or password\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "bad credentials",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 401\"] = responseCode.code === 401;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Error message is bad login or password\"] = jsonData.error = \"Bad login or password\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "empty fname",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Fname not provided message is in error field\"] = jsonData.error === \"fname must be provided\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "too long fname",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Too long fname message is in error field\"] = jsonData.error === \"max length of fname is 40\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"asqoldksjuasqoldksjuasqoldksjuasqoldksjua\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "empty lname",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Lname not provided message is in error field\"] = jsonData.error === \"lname must be provided\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "too long lname",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Too long lname message is in error field\"] = jsonData.error === \"max length of lname is 40\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"asqoldksjuasqoldksjuasqoldksjuasqoldksjua\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "empty email",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Empty email message is in error field\"] = jsonData.error === \"email must be provided\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "bad email format",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Bad email format message is in error field\"] = jsonData.error === \"bad email format\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"yfyugvdfgdg\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "empty password",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Empty password message is in error field\"] = jsonData.error === \"password must be provided\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "bad password format",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Bad password message is in error field\"] = jsonData.error === \"password must contain at liest 1 uppercase English letter, 1 lowercase English letter, 1 digit and 1 special character (#?!@$%^&*-)\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"week password\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "empty password2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Empty password2 message is in error field\"] = jsonData.error === \"password2 must be provided\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "passwords not equal",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Empty password2 message is in error field\"] = jsonData.error === \"password and password2 must be the same\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie-2\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "create user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "check user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Fname field is valid\"] = jsonData.fname = \"Jan\";",
									"tests[\"Lname field is valid\"] = jsonData.lname = \"Kowalski\";",
									"tests[\"Email field is valid\"] = jsonData.fname = \"jan@kowalski.pl\";",
									"tests[\"Id field is provided\"] = jsonData.id;",
									"tests[\"Password is not showed\"] = !jsonData.password;",
									"tests[\"Password2 is not showed\"] = !jsonData.password2;",
									""
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "create the same user again",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 409\"] = responseCode.code === 409;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"User exists message is in error field\"] = jsonData.error === \"user already exists\";"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "update user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									""
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpLnBsOkphLTgtZmFqbmll",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan2\",\n  \"lname\": \"Kowalski2\",\n  \"email\": \"jan@kowalski2.pl\",\n  \"password\": \"Ja-8-fajnie2\",\n  \"password2\": \"Ja-8-fajnie2\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "check updated user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Fname field is valid\"] = jsonData.fname = \"Jan2\";",
									"tests[\"Lname field is valid\"] = jsonData.lname = \"Kowalski2\";",
									"tests[\"Email field is valid\"] = jsonData.fname = \"jan@kowalski2.pl\";",
									"tests[\"Id field is provided\"] = jsonData.id;",
									"tests[\"Password is not showed\"] = !jsonData.password;",
									"tests[\"Password2 is not showed\"] = !jsonData.password2;",
									""
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpMi5wbDpKYS04LWZham5pZTI=",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fname\": \"Jan\",\n  \"lname\": \"Kowalski\",\n  \"email\": \"jan@kowalski.pl\",\n  \"password\": \"Ja-8-fajnie\",\n  \"password2\": \"Ja-8-fajnie\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "https://localhost:9443/webj2/api/users/me",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic amFuQGtvd2Fsc2tpMi5wbDpKYS04LWZham5pZTI=",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		}
	]
}